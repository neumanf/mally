<nav class="fixed top-0 z-50 w-full border-b bg-zinc-950 border-zinc-700">
    <div class="px-3 py-3 lg:px-5 lg:pl-3">
        <div class="flex items-center justify-between">
            <div class="flex items-center justify-start rtl:justify-end">
                <button
                    type="button"
                    class="inline-flex items-center p-2 text-sm text-zinc-500 rounded-lg sm:hidden hover:bg-zinc-100 focus:outline-none focus:ring-2 focus:ring-zinc-200 dark:text-zinc-400 dark:hover:bg-zinc-700 dark:focus:ring-zinc-600"
                    (click)="toggleSidebar()"
                >
                    <span class="sr-only">Open sidebar</span>
                    <svg
                        class="w-6 h-6"
                        aria-hidden="true"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            clip-rule="evenodd"
                            fill-rule="evenodd"
                            d="M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"
                        ></path>
                    </svg>
                </button>
                <a href="/" class="flex ms-2 md:me-24">
                    <img src="/assets/logo.svg" class="h-8 me-3" alt="Logo" />
                </a>
            </div>
            <div class="flex items-center">
                <div class="flex items-center ms-3">
                    <div>
                        <button
                            type="button"
                            class="flex text-sm bg-zinc-800 rounded-full focus:ring-4 focus:ring-zinc-300 dark:focus:ring-zinc-600"
                            (click)="userMenu.toggle($event)"
                        >
                            <span class="sr-only">Open user menu</span>
                            <p-avatar
                                icon="ti ti-user"
                                size="normal"
                                shape="circle"
                                [style]="{'background-color': '#ef4444'}"
                            />
                        </button>
                    </div>

                    <p-overlayPanel #userMenu>
                        <div
                            class="text-base list-none divide-y rounded shadow bg-zinc-700 divide-zinc-600"
                            id="dropdown-user"
                        >
                            <div class="px-4 py-3" role="none">
                                <p class="text-sm font-bold text-zinc-900 dark:text-white" role="none">
                                    {{ user?.firstName }}
                                </p>
                                <p
                                    class="text-sm font-medium text-zinc-900 truncate dark:text-zinc-300"
                                    role="none"
                                >
                                    {{ user?.email }}
                                </p>
                            </div>
                            <ul class="py-1" role="none">
                                <li>
                                    <a
                                        (click)="profile()"
                                        class="cursor-pointer block px-4 py-2 text-sm text-zinc-700 hover:bg-zinc-100 dark:text-zinc-300 dark:hover:bg-zinc-600 dark:hover:text-white"
                                        role="menuitem"
                                    >Profile</a
                                    >
                                </li>
                                <li>
                                    <a
                                        (click)="logout()"
                                        class="cursor-pointer block px-4 py-2 text-sm text-zinc-700 hover:bg-zinc-100 dark:text-zinc-300 dark:hover:bg-zinc-600 dark:hover:text-white"
                                        role="menuitem"
                                    >Sign out</a
                                    >
                                </li>
                            </ul>
                        </div>
                    </p-overlayPanel>
                </div>
            </div>
        </div>
    </div>
</nav>

<aside
    id="logo-sidebar"
    class="fixed top-0 left-0 z-40 w-64 h-screen pt-20 transition-transform -tranzinc-x-full border-r sm:tranzinc-x-0 bg-zinc-950 border-zinc-700"
    [ngClass]="{
        hidden: !isSidebarOpen,
    }"
    aria-label="Sidebar"
>
    <div class="flex text-white flex-col justify-between h-full px-3 pb-4 overflow-y-auto bg-zinc-950">
        <ul class="space-y-2 font-medium">
            <li *ngFor="let item of sidebarItems">
                <div *ngIf="item.children">
                    <p class="mb-2">{{ item.label }}</p>
                    <div *ngFor="let child of item.children">
                        <a
                            [href]="child.path"
                            class="flex items-center p-2 my-2 rounded-lg text-white hover:text-primary-300 group"
                            [ngClass]="{
                                    'bg-zinc-700': router.url === child.path,
                                }"
                        >
                            <i [class]="child.icon"></i>
                            <span class="ms-3 mt-1">{{ child.label }}</span>
                        </a>
                    </div>
                </div>
                <a
                    *ngIf="!item.children"
                    [href]="item.path"
                    class="flex items-center p-2 rounded-lg text-white hover:text-primary-300 group"
                    [ngClass]="{
                            'bg-zinc-700': router.url === item.path,
                        }"
                >
                    <i [class]="item.icon"></i>
                    <span class="ms-3 mt-1">{{ item.label }}</span>
                    <span
                        *ngIf="item.new"
                        class="inline-flex items-center justify-center px-2 ms-3 text-sm font-medium text-green-800 bg-green-100 rounded-full dark:bg-green-700 dark:text-green-300"
                    >New</span
                    >
                </a>
            </li>
        </ul>
    </div>
</aside>

<div class="p-6 sm:ml-64 mt-14 text-white">
    <router-outlet></router-outlet>
</div>
